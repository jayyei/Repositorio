<?xml version="1.0" encoding="UTF-8"?> 
<databaseChangeLog 
  xmlns="http://www.liquibase.org/xml/ns/dbchangelog/1.9" 
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
  xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog/1.9
                      http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-1.9.xsd"> 
    <changeSet author="alfonso_catalan" id="20190303-001">
        <createTable tableName="properties">
            <column name="application" type="VARCHAR(200)"/>
            <column name="profile" type="VARCHAR(200)"/>
            <column name="label" type="VARCHAR(200)"/>
            <column name="KEY" type="VARCHAR(200)"/>
            <column name="value" type="VARCHAR(200)"/>
        </createTable>
    </changeSet>
    <changeSet author="alfonso_catalan" id="20190303-002">
        <insert tableName="properties">
            <column name="application" type="VARCHAR(200)" value="catalogs-service"/>
            <column name="profile" type="VARCHAR(200)" value="prod"/>
            <column name="label" type="VARCHAR(200)" value="initial"/>
            <column name="KEY" type="VARCHAR(200)" value="spring.datasource.url"/>
            <column name="value" type="VARCHAR(200)" value="jdbc:postgresql://node01:6999/myaxitydb"/>
		    </insert>
        <insert tableName="properties">
            <column name="application" type="VARCHAR(200)" value="catalogs-service"/>
            <column name="profile" type="VARCHAR(200)" value="prod"/>
            <column name="label" type="VARCHAR(200)" value="initial"/>
            <column name="KEY" type="VARCHAR(200)" value="spring.datasource.username"/>
            <column name="value" type="VARCHAR(200)" value="web"/>
		    </insert>
        <insert tableName="properties">
            <column name="application" type="VARCHAR(200)" value="catalogs-service" />
            <column name="profile" type="VARCHAR(200)" value="prod"/>
            <column name="label" type="VARCHAR(200)" value="initial"/>
            <column name="KEY" type="VARCHAR(200)" value="spring.datasource.password"/>
            <column name="value" type="VARCHAR(200)" value="(wE3bB91v2392.(_++)"/>
		    </insert>
        <insert tableName="properties">
            <column name="application" type="VARCHAR(200)" value="catalogs-service"/>
            <column name="profile" type="VARCHAR(200)" value="prod" />
            <column name="label" type="VARCHAR(200)" value="initial"/>
            <column name="KEY" type="VARCHAR(200)" value="spring.datasource.driver-class-name"/>
            <column name="value" type="VARCHAR(200)" value="org.postgresql.Driver"/>
		    </insert>
        <insert tableName="properties">
            <column name="application" type="VARCHAR(200)" value="catalogs-service"/>
            <column name="profile" type="VARCHAR(200)" value="prod"/>
            <column name="label" type="VARCHAR(200)" value="initial"/>
            <column name="KEY" type="VARCHAR(200)" value="spring.jpa.database-platform"/>
            <column name="value" type="VARCHAR(200)" value="org.hibernate.dialect.PostgreSQL9Dialect"/>
		    </insert>
        <insert tableName="properties">
            <column name="application" type="VARCHAR(200)" value="catalogs-service"/>
            <column name="profile" type="VARCHAR(200)" value="prod"/>
            <column name="label" type="VARCHAR(200)" value="initial"/>
            <column name="KEY" type="VARCHAR(200)" value="spring.jpa.show-sql"/>
            <column name="value" type="VARCHAR(200)" value="false"/>
		    </insert>
        <insert tableName="properties">
            <column name="application" type="VARCHAR(200)" value="catalogs-service"/>
            <column name="profile" type="VARCHAR(200)" value="prod"/>
            <column name="label" type="VARCHAR(200)" value="initial"/>
            <column name="KEY" type="VARCHAR(200)" value="spring.jackson.default-property-inclusion"/>
            <column name="value" type="VARCHAR(200)" value="NON_NULL"/>
		    </insert>
        <insert tableName="properties">
            <column name="application" type="VARCHAR(200)" value="catalogs-service"/>
            <column name="profile" type="VARCHAR(200)" value="prod"/>
            <column name="label" type="VARCHAR(200)" value="initial"/>
            <column name="KEY" type="VARCHAR(200)" value="eureka.client.register-with-eureka"/>
            <column name="value" type="VARCHAR(200)" value="true"/>
		    </insert>
        <insert tableName="properties">
            <column name="application" type="VARCHAR(200)" value="catalogs-service"/>
            <column name="profile" type="VARCHAR(200)" value="prod"/>
            <column name="label" type="VARCHAR(200)" value="initial"/>
            <column name="KEY" type="VARCHAR(200)" value="eureka.client.fetch-registry"/>
            <column name="value" type="VARCHAR(200)" value="true"/>
		    </insert>
        <insert tableName="properties">
            <column name="application" type="VARCHAR(200)" value="catalogs-service"/>
            <column name="profile" type="VARCHAR(200)" value="prod"/>
            <column name="label" type="VARCHAR(200)" value="initial"/>
            <column name="KEY" type="VARCHAR(200)" value="eureka.instance.leaseRenewalIntervalInSeconds"/>
            <column name="value" type="VARCHAR(200)" value="5"/>
		    </insert>
        <insert tableName="properties">
            <column name="application" type="VARCHAR(200)" value="catalogs-service"/>
            <column name="profile" type="VARCHAR(200)" value="prod"/>
            <column name="label" type="VARCHAR(200)" value="initial"/>
            <column name="KEY" type="VARCHAR(200)" value="eureka.instance.preferIpAddress"/>
            <column name="value" type="VARCHAR(200)" value="true"/>
		    </insert>
        <insert tableName="properties">
            <column name="application" type="VARCHAR(200)" value="catalogs-service"/>
            <column name="profile" type="VARCHAR(200)" value="prod"/>
            <column name="label" type="VARCHAR(200)" value="initial"/>
            <column name="KEY" type="VARCHAR(200)" value="eureka.client.service-url.defaultZone"/>
            <column name="value" type="VARCHAR(200)" value="http://k8s-master:7000/eureka/"/>
		    </insert>
    </changeSet>
    <changeSet author="alfonso_catalan" id="20190303-003">
      <createTable tableName="app">
            <column name="name" type="VARCHAR(100)"/>
      </createTable>
    </changeSet>
    <changeSet author="alfonso_catalan" id="20190303-004">
      <insert tableName="app">
            <column name="name" type="VARCHAR(100)" value="catalogs-service"/>
      </insert>
      <insert tableName="app">
            <column name="name" type="VARCHAR(100)" value="daysoff-service"/>
      </insert>
      <insert tableName="app">
            <column name="name" type="VARCHAR(100)" value="notifications-service"/>
      </insert>
      <insert tableName="app">
            <column name="name" type="VARCHAR(100)" value="projectmanager-service"/>
      </insert>
      <insert tableName="app">
            <column name="name" type="VARCHAR(100)" value="reports-service"/>
      </insert>
      <insert tableName="app">
            <column name="name" type="VARCHAR(100)" value="security-service"/>
      </insert>
      <insert tableName="app">
            <column name="name" type="VARCHAR(100)" value="users-service"/>
      </insert>
      <insert tableName="app">
            <column name="name" type="VARCHAR(100)" value="worklog-service"/>
      </insert>
      <insert tableName="app">
            <column name="name" type="VARCHAR(100)" value="jiraproxy-service"/>
      </insert>
      <insert tableName="app">
            <column name="name" type="VARCHAR(100)" value="scheduler-service"/>
      </insert>
    </changeSet>
    <changeSet author="alfonso_catalan" id="20190303-005">
      <createView viewName="configview">
            SELECT a.name application, profile, label, key, value FROM properties p, app a
      </createView>
    </changeSet>
</databaseChangeLog> 